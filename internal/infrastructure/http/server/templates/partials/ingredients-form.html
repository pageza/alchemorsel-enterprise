{{define "ingredients-form"}}
{{range $i := (seq 0 .count)}}
<div class="ingredient-input" style="display: grid; grid-template-columns: 1fr 2fr auto; gap: 0.5rem; margin-bottom: 0.5rem; align-items: end;">
    <div class="form-group" style="margin-bottom: 0;">
        <label class="form-label" style="font-size: 0.875rem;">Amount</label>
        <input 
            type="text" 
            name="ingredients[{{$i}}][amount]" 
            class="form-input"
            placeholder="1 cup"
            required
        >
    </div>
    <div class="form-group" style="margin-bottom: 0;">
        <label class="form-label" style="font-size: 0.875rem;">Ingredient</label>
        <input 
            type="text" 
            name="ingredients[{{$i}}][name]" 
            class="form-input"
            placeholder="all-purpose flour"
            required
        >
    </div>
    <button 
        type="button" 
        class="btn btn-danger"
        onclick="this.closest('.ingredient-input').remove()"
        style="height: fit-content;"
        title="Remove ingredient"
        aria-label="Remove ingredient"
    >
        🗑️
    </button>
</div>
{{end}}
{{end}}