/* HTMX v1.9.6 - Optimized for Alchemorsel v3 */
/* This is a placeholder for the actual minified HTMX library */
/* In production, this would be the actual HTMX library compressed to ~2KB */
(function(){
  // HTMX Core functionality placeholder
  window.htmx = window.htmx || {};
  
  // Basic HTMX implementation for demo
  htmx.ajax = function(verb, path, selector) {
    fetch(path, {
      method: verb,
      headers: {
        'HX-Request': 'true',
        'Content-Type': 'application/x-www-form-urlencoded'
      }
    })
    .then(response => response.text())
    .then(html => {
      if (selector) {
        document.querySelector(selector).innerHTML = html;
      }
    });
  };
  
  htmx.trigger = function(element, event) {
    element.dispatchEvent(new Event(event));
  };
  
  // Initialize HTMX on page load
  document.addEventListener('DOMContentLoaded', function() {
    // Process HTMX attributes
    document.querySelectorAll('[hx-get], [hx-post], [hx-put], [hx-delete]').forEach(function(el) {
      el.addEventListener('click', function(e) {
        e.preventDefault();
        const verb = el.getAttribute('hx-get') ? 'GET' : 
                    el.getAttribute('hx-post') ? 'POST' :
                    el.getAttribute('hx-put') ? 'PUT' : 'DELETE';
        const path = el.getAttribute('hx-' + verb.toLowerCase()) || 
                    el.getAttribute('hx-get') || 
                    el.getAttribute('hx-post') ||
                    el.getAttribute('hx-put') ||
                    el.getAttribute('hx-delete');
        const target = el.getAttribute('hx-target');
        
        if (path) {
          htmx.ajax(verb, path, target);
        }
      });
    });
  });
})();